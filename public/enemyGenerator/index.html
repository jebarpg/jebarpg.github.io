<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Random Enemy Generator with Save</title>
<style>
body {
  font-family: sans-serif;
  padding: 20px;
  background: #1e1e1e;
  color: #f0f0f0;
}
h1 { margin-bottom: 10px; }
.buttons { display: flex; flex-wrap: wrap; gap: 10px; margin-bottom: 20px; }
button {
  padding: 8px 16px;
  font-size: 14px;
  cursor: pointer;
  border: none;
  border-radius: 6px;
  background: #444;
  color: #fff;
  transition: background 0.2s, transform 0.1s;
}
button:hover { background: #666; }
button:active { transform: scale(0.97); }

#enemyList {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(220px, 1fr));
  gap: 12px;
}

.enemy {
  position: relative;
  background: #2c2c2c;
  border-radius: 6px;
  border: 1px solid #333;
  padding: 8px;
  font-size: 13px;
  opacity: 0;
  animation: fadeIn 0.4s ease forwards;
  overflow: hidden;
}
.boss {
  border-color: gold;
  box-shadow: 0 0 8px gold;
  background: linear-gradient(145deg, #2c2c2c, #3a3000);
}

@keyframes fadeIn { to { opacity: 1; } }
@keyframes floatEnemy { 0% { transform: translateY(0); } 100% { transform: translateY(-3px); } }

.loot.common { color: #ccc; }
.loot.rare { color: #1e90ff; }
.loot.epic { color: #a020f0; }
.loot.legendary { color: #fbc02d; text-shadow: 0 0 6px #fbc02d; }
.loot.mythic { color: #ff1493; text-shadow: 0 0 7px #ff1493; }
.loot.divine { color: #00ffff; text-shadow: 0 0 7px #00ffff; }

.sparkle { position: absolute; width: 3px; height: 3px; border-radius: 50%; pointer-events: none; opacity: 0; animation: drift 1.2s forwards; }
@keyframes drift { 0% { transform: translate(0,0) scale(1); opacity: 1; } 100% { transform: translate(var(--x), var(--y)) scale(1.2); opacity: 0; } }
</style>
</head>
<body>

<h1>⚔️ Random Enemy Generator 💾</h1>
<div class="buttons">
  <button id="generate">Generate Enemy</button>
  <button id="clear">Clear Enemies</button>
  <button id="save">Save Enemies as JSON</button>
</div>
<div id="enemyList"></div>

<script>
// Helpers
function randomChoice(arr){return arr[Math.floor(Math.random()*arr.length)];}

// Data pools
const adjectives=["Fierce","Ancient","Tiny","Shadowy","Savage","Corrupted","Enraged","Cunning","Mystic","Vicious","Silent","Wild","Infernal","Frozen","Electric","Venomous","Ghastly","Raging","Brutal","Cursed","Divine","Mighty","Swift","Stealthy","Burning","Spectral","Arcane","Stone","Thunderous","Twisted","Bloodthirsty","Dreadful","Ironclad","Phantom","Lurking","Vengeful","Golden","Ethereal","Plagued","Shimmering","Rotted","Frostbitten","Blazing","Haunted","Toxic","Stormy","Spiritbound","Emerald","Obsidian","Crystal","Radiant","Darkened","Luminous","Ancientborn"];
const names=["Goblin","Specter","Slime","Wolf","Elemental","Ogre","Reaper","Imp","Wraith","Troll","Skeleton","Zombie","Dragonling","Ghoul","Harpy","Banshee","Golem","Phantom","Lich","Spider","Mimic","Serpent","Hydra","Wyvern","Vampire","Bat","Beast","Fiend","Shade","Kraken","Chimera","Minotaur","Demon","Pixie","Fairy","Kobold","Cyclops","Salamander","Wisp","Drake","Wolverine","Raptor","Cobra","Oni","Succubus","Incubus","Necromancer","Shadebeast","Frostling","Firebrand","Stormcaller","Earthshaker","Spiritwalker","Nightstalker","Venomfang"];
const types=[{name:"Melee",emoji:"⚔️"},{name:"Ranged",emoji:"🏹"},{name:"Caster",emoji:"🔮"},{name:"Assassin",emoji:"🗡️"},{name:"Tank",emoji:"🛡️"},{name:"Summoner",emoji:"🐾"},{name:"Berserker",emoji:"🔥"},{name:"Sniper",emoji:"🎯"},{name:"Healer",emoji:"💖"},{name:"Mage",emoji:"✨"},{name:"Necromancer",emoji:"☠️"},{name:"Elementalist",emoji:"🌪️"},{name:"Rogue",emoji:"🌙"},{name:"Shaman",emoji:"🪶"},{name:"Warlock",emoji:"💀"}];
const elements=[{name:"Fire",emoji:"🔥",color:"#ff4500"},{name:"Water",emoji:"💧",color:"#1e90ff"},{name:"Wind",emoji:"🌪️",color:"#ccc"},{name:"Earth",emoji:"🌱",color:"#228b22"},{name:"Lightning",emoji:"⚡",color:"#f9ff00"},{name:"Ice",emoji:"❄️",color:"#a0e0ff"},{name:"Poison",emoji:"☠️",color:"#6a0dad"},{name:"Shadow",emoji:"🌑",color:"#555"},{name:"Light",emoji:"🌞",color:"#ffd700"},{name:"Arcane",emoji:"💫",color:"#b873ff"},{name:"Nature",emoji:"🌸",color:"#32cd32"},{name:"Spirit",emoji:"🪶",color:"#f0f8ff"}];
const lootRarities=[{name:"🪓 Common",class:"common"},{name:"🟦 Uncommon",class:"rare"},{name:"🟩 Rare",class:"rare"},{name:"🟪 Epic",class:"epic"},{name:"🟨 Legendary",class:"legendary"},{name:"💎 Mythic",class:"mythic"},{name:"🌟 Divine",class:"divine"}];
const lootItems=["Sword","Bow","Staff","Dagger","Amulet","Ring","Armor","Wand","Helm","Shield","Gauntlets","Boots","Cape","Potion","Scroll","Orb","Talisman","Scepter","Lance","Crossbow","Grimoire","Crystal","Charm","Pendant","Totem","Bracer","Mask","Crown","Belt","Gemstone","Lantern"];

let enemies = [];

function generateEnemy(){
  const isBoss=Math.random()<0.05;
  const type=randomChoice(types);
  const element=randomChoice(elements);
  const name=`${isBoss?"💀 Boss ":''}${type.emoji} ${randomChoice(adjectives)} ${randomChoice(names)}`;
  const hp=isBoss?Math.floor(Math.random()*300)+500:Math.floor(Math.random()*50)+50;
  const mp=isBoss?Math.floor(Math.random()*200)+100:Math.floor(Math.random()*30)+20;
  const strength=isBoss?Math.floor(Math.random()*50)+50:Math.floor(Math.random()*15)+5;
  const dexterity=isBoss?Math.floor(Math.random()*40)+20:Math.floor(Math.random()*15)+5;
  const intelligence=isBoss?Math.floor(Math.random()*50)+40:Math.floor(Math.random()*20)+5;
  const defense=isBoss?Math.floor(Math.random()*40)+20:Math.floor(Math.random()*10)+5;
  const resistance=isBoss?Math.floor(Math.random()*50)+20:Math.floor(Math.random()*10)+5;
  const speed=isBoss?Math.floor(Math.random()*30)+20:Math.floor(Math.random()*15)+5;
  const luck=isBoss?Math.floor(Math.random()*20)+10:Math.floor(Math.random()*10)+1;
  let weakness;
  do{weakness=randomChoice(elements);}while(weakness.name===element.name);
  const loot={rarity:randomChoice(lootRarities),element:randomChoice(elements),item:randomChoice(lootItems)};
  return {name,type,hp,mp,strength,dexterity,intelligence,defense,resistance,speed,luck,strengthElement:element,weakness,loot,isBoss};
}

function createDriftSparkles(container,color,count=12){
  for(let i=0;i<count;i++){
    const sparkle=document.createElement('div');
    sparkle.className='sparkle';
    sparkle.style.background=color;
    const dx=Math.random()*30-15;
    const dy=Math.random()*30-15;
    sparkle.style.setProperty('--x',`${dx}px`);
    sparkle.style.setProperty('--y',`${dy}px`);
    sparkle.style.left=`${Math.random()*container.offsetWidth}px`;
    sparkle.style.top=`${Math.random()*container.offsetHeight}px`;
    container.appendChild(sparkle);
    setTimeout(()=>sparkle.remove(),1400);
  }
}

function displayEnemy(enemy){
  const container=document.createElement('div');
  container.style.animation=`fadeIn 0.4s ease forwards, floatEnemy 1.5s ease-in-out infinite alternate`;
  container.className=`enemy ${enemy.strengthElement.name.toLowerCase()}`+(enemy.isBoss?' boss':'');
  container.innerHTML=`
    <strong>${enemy.name}</strong> (${enemy.type.emoji} ${enemy.type.name})<br>
    ❤️ ${enemy.hp} | 🔵 ${enemy.mp}<br>
    💪 ${enemy.strength} | 🏃 ${enemy.dexterity} | 🧠 ${enemy.intelligence}<br>
    🛡️ ${enemy.defense} | ✨ ${enemy.resistance} | ⚡ ${enemy.speed} | 🍀 ${enemy.luck}<br>
    ⚡ <span>${enemy.strengthElement.emoji} ${enemy.strengthElement.name}</span> |
    ❌ <span>${enemy.weakness.emoji} ${enemy.weakness.name}</span><br>
    🎁 <span class="loot ${enemy.loot.rarity.class}">${enemy.loot.rarity.name} ${enemy.loot.element.emoji} ${enemy.loot.element.name} ${enemy.loot.item}</span>
  `;
  document.getElementById('enemyList').prepend(container);
  createDriftSparkles(container,enemy.strengthElement.color,10);
  if(enemy.isBoss) createDriftSparkles(container,'#ffd700',10);
}

document.getElementById('generate').addEventListener('click',()=>{
  const enemy = generateEnemy();
  enemies.push(enemy);
  displayEnemy(enemy);
});

document.getElementById('clear').addEventListener('click',()=>{
  document.getElementById('enemyList').innerHTML='';
  enemies = [];
});

// 💾 Save to JSON file
document.getElementById('save').addEventListener('click',()=>{
  if(enemies.length===0){
    alert('No enemies to save!');
    return;
  }
  const blob = new Blob([JSON.stringify(enemies,null,2)],{type:'application/json'});
  const url = URL.createObjectURL(blob);
  const a = document.createElement('a');
  a.href = url;
  a.download = 'enemies.json';
  a.click();
  URL.revokeObjectURL(url);
});
</script>
</body>
</html>
